/* ========= Homie Premium Theme (Red + Charcoal) ========= */
:root{
  --radius: 14px;
  --radius-sm: 10px;
  --shadow-1: 0 8px 30px rgba(0,0,0,.08);
  --shadow-2: 0 14px 40px rgba(0,0,0,.10);
  --font-main: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  --font-num: ui-rounded, "Poppins", sans-serif;
}

body[data-theme="homie"]{
  --bg: #eef0f3;
  --bg-soft: #fff1f1;
  --card: #ffffff;
  --text: #1f2937;
  --muted: #6b7280;
  --border: #ececec;
  --accent: #e63946;
  --accent-700:#d42a37;
  --accent-800:#b71f2b;
  --accent-contrast:#ffffff;
  --ring: rgba(230,57,70,.35);

  margin:0;
  min-height:100vh;
  display:flex; justify-content:center; align-items:flex-start;
  font-family:var(--font-main);
  color:var(--text);
  position:relative;

  /* Background: gradient + vignette */
  background:
    radial-gradient(900px 520px at -10% -20%, color-mix(in oklab, var(--bg-soft) 75%, white), transparent 60%),
    radial-gradient(800px 480px at 110% -10%, color-mix(in oklab, var(--bg-soft) 75%, white), transparent 55%),
    linear-gradient(180deg, var(--bg) 0%, #f1f2f5 100%);
}

/* Doodle pattern background */
body[data-theme="homie"]::before{
  content:"";
  position:fixed; inset:0; z-index:-1;
  background-image:url("/pattern.png");
  background-repeat:repeat;
  background-size:220px;      /* denser doodles */
  opacity:.18;                /* more visible */
  filter:contrast(1.2) saturate(1.1);
  pointer-events:none;
}

/* ========= Top Gradient Header ========= */
.topbar{
  width:100%;
  position:sticky; top:0; z-index:10;
  background: linear-gradient(90deg, var(--accent) 0%, var(--accent-700) 60%, var(--accent-800) 100%);
  box-shadow: 0 6px 18px rgba(0,0,0,.12);
}
.topbar .header{
  max-width:1080px; margin:0 auto; padding:16px 18px;
  display:flex; align-items:center; justify-content:center; gap:14px;
  position:relative;
}
.topbar .logo{ height:56px !important; padding:0 !important; filter:none !important; }
.topbar h1{
  margin:0; color:var(--accent-contrast); font-weight:800;
  font-size:30px; letter-spacing:.4px;
}
.topbar::after{
  content:"";
  position:absolute; left:0; right:0; top:0; height:56%;
  background: linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,0));
  pointer-events:none;
}

/* ========= Main App Card ========= */
.container{
  width:min(100%, 920px);
  margin:34px auto;
  padding:34px 28px;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:0 18px 50px rgba(0,0,0,.12);
  text-align:center;
  position:relative;
}


/* ========= Table ========= */
.table{
  width:100%;
  border-spacing:0 10px;
  border-collapse:separate;
  margin-bottom:22px;
  background:transparent;
  box-shadow:none;
}
.table th,.table td{
  padding:14px 12px; text-align:center;
  font-variant-numeric: tabular-nums;
  font-family:var(--font-num);
}
.table th{
  background:var(--accent); color:var(--accent-contrast);
  text-transform:uppercase; letter-spacing:.4px; font-size:13px; font-weight:600;
  border-radius:12px 12px 0 0;
}
.table tbody tr{ box-shadow:0 6px 16px rgba(0,0,0,.06); }
.table tbody td{ background:#fff; }
.table tbody tr td:first-child{ border-radius:12px 0 0 12px; }
.table tbody tr td:last-child{  border-radius:0 12px 12px 0; }

/* ========= Controls ========= */
.controls button{
  width:42px; height:42px; padding:0;
  border:none; border-radius:50%;
  font-weight:700; cursor:pointer;
  transition:transform .12s ease, filter .2s ease, box-shadow .2s ease;
  box-shadow:0 6px 16px rgba(0,0,0,.12);
}
.btn-plus{ background:var(--accent); color:var(--accent-contrast) }
.btn-plus:hover{ filter:brightness(.98); transform:translateY(-1px) }
.btn-minus{ background:#6b7280; color:#fff }
.btn-minus:hover{ transform:translateY(-1px) }

/* ========= Totals & Quote ========= */
.totals{
  display:grid; grid-template-columns:repeat(2, minmax(0,1fr)); gap:14px;
  padding:16px 18px; background: var(--bg-soft); border:1px solid var(--border);
  border-radius:var(--radius-sm); font-weight:600; margin-bottom:12px;
}
.totals p{ margin:0 }

.card{
  text-align:left; padding:20px; margin:16px 0; border-radius:var(--radius-sm);
  background:#fff; border:1px solid var(--border); box-shadow:var(--shadow-1);
  white-space:pre-line; line-height:1.6; font-size:15px; min-height:120px;
}

/* ========= Actions & Inputs ========= */
.actions{
  margin:22px 0; display:flex; flex-wrap:wrap; justify-content:center; gap:14px;
}
.btn-primary,.btn-info,.btn-wa{
  padding:12px 18px; border:none; border-radius:12px; font-weight:700; font-size:15px; cursor:pointer;
  transition:transform .15s ease, box-shadow .2s ease, filter .2s ease;
  box-shadow:var(--shadow-2);
}
.btn-primary{ background:var(--accent); color:var(--accent-contrast) }
.btn-primary:hover{ transform:translateY(-2px); filter:saturate(1.02) }
.btn-info{ background:#2563eb; color:#fff }
.btn-info:hover{ transform:translateY(-2px) }
.btn-wa{ background:#25d366; color:#fff }
.btn-wa:hover{ transform:translateY(-2px) }
button:disabled{ opacity:.55; cursor:not-allowed; box-shadow:none }

.input{
  width:300px; padding:12px 14px; border:1px solid var(--border); border-radius:12px; font-size:14px;
  transition:border-color .2s ease, box-shadow .2s ease; background:#fff;
}
.input:focus{ outline:none; border-color:var(--accent); box-shadow:0 0 0 5px var(--ring) }

/* ========= Misc ========= */
h1{ font-weight:800; letter-spacing:.2px }
.logo{ display:block }

@media (max-width:720px){
  body[data-theme="homie"]::before{ background-size:200px; opacity:.16; }
  .container{ width:94%; padding:20px 16px; }
  .controls button{ width:38px; height:38px; }
  .topbar h1{ font-size:22px }
}

/* Small helpers for new controls */
.pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  background: #fff;
  border: 1px solid var(--border);
  border-radius: 999px;
  font-weight: 600;
  box-shadow: 0 2px 8px rgba(0,0,0,.06);
  user-select: none;
}

.note {
  font-size: 13px;
  color: var(--muted);
}

.quote-editor {
  width: 100%;
  resize: vertical;
  white-space: pre-wrap; /* show \n lines as lines */
  font-family: "Poppins", sans-serif;
}
/* ===== Two-pane layout ===== */
.layout{
  display: grid;
  grid-template-columns: 1fr;
  gap: 18px;
}

.pane{ min-width: 0; } /* allow children to shrink nicely */

@media (min-width: 992px){
  .layout{
    grid-template-columns: 58% 42%; /* items | quote */
    align-items: start;
  }
  .pane.right .sticky{
    position: sticky;
    top: 96px;         /* keeps the quote visible while scrolling */
  }
}

/* tighten the toolbar row above the grid */
.toolbar{
  justify-content: space-between;
}

/* textarea height in right pane */
.quote-editor{
  height: 520px;      /* desktop default; still resizable */
}
@media (max-width: 991px){
  .quote-editor{ height: 380px; }
}
/* ==== Independent scroll for product list, sticky quote ==== */

/* make sure the card doesn't clip the sticky child */
.container { overflow: visible; }

/* 2-pane grid height sized to viewport (minus header/toolbar) */
@media (min-width: 992px){
  .layout{
    grid-template-columns: 58% 42%;
    align-items: start;
    height: calc(100vh - 180px); /* adjust if your header/toolbar is taller/shorter */
  }

  /* LEFT: scroll only the product list area */
  .pane.left{
    overflow-y: auto;
    padding-right: 8px; /* keeps shadow visible when scrolling */
    scrollbar-gutter: stable;
  }

  /* RIGHT: keep the quote panel stuck in view */
  .pane.right .sticky{
    position: sticky;
    top: 96px; /* distance from top under your red header */
    align-self: start;
  }
}

/* optional: nicer scrollbar for the left pane (Chromium/Edge) */
.pane.left::-webkit-scrollbar{ width: 10px; }
.pane.left::-webkit-scrollbar-track{ background: #f2f2f2; border-radius: 8px; }
.pane.left::-webkit-scrollbar-thumb{ background: #d6d6d6; border-radius: 8px; }
.pane.left::-webkit-scrollbar-thumb:hover{ background: #c7c7c7; }
/* ==== Two-pane layout: left scrolls inside card, right stays sticky ==== */

/* keep rounded corners; clip anything that overflows the card */
.container{
  overflow: hidden;
}

/* base grid (mobile stacks) */
.layout{
  display: grid;
  grid-template-columns: 1fr;
  gap: 18px;
}

.pane{ min-width: 0; } /* let children shrink without overflowing */

/* desktop/tablet: two columns */
@media (min-width: 992px){
  .layout{
    grid-template-columns: 60% 40%;      /* left: items | right: quote */
    align-items: start;
    gap: 22px;
  }

  /* LEFT: give the items pane its own scroll area inside the card */
  .pane.left{
    /* topbar (~70) + toolbar (~90) + container paddings (~40) ≈ 200 */
    max-height: calc(100vh - 200px);     /* tweak 180–240 if needed */
    overflow: auto;
    padding-right: 8px;                  /* keep shadows visible */
    scrollbar-gutter: stable;
  }

  /* RIGHT: make quote stay in view */
  .pane.right .sticky{
    position: sticky;
    top: 96px;                            /* align under the red header; tweak 84–112 if needed */
    align-self: start;
  }
}

/* make the quote editor fit better in the sticky column */
.pane.right .quote-editor{
  height: 460px;          /* still resizable */
  max-height: calc(100vh - 280px);
}

/* nicer scrollbar for the left pane (Chromium/Edge) */
.pane.left::-webkit-scrollbar{ width: 10px; }
.pane.left::-webkit-scrollbar-track{ background: #f2f2f2; border-radius: 8px; }
.pane.left::-webkit-scrollbar-thumb{ background: #d6d6d6; border-radius: 8px; }
.pane.left::-webkit-scrollbar-thumb:hover{ background: #c7c7c7; }
/* ==== Two-pane layout: left scrolls; right sticky with its own scroll ==== */

/* do NOT clip children; keep rounded card but allow content to show */
.container{
  overflow: visible;
}

/* base grid (mobile stacks) */
.layout{
  display: grid;
  grid-template-columns: 1fr;
  gap: 18px;
}

.pane{ min-width: 0; } /* allow children to shrink */

/* desktop/tablet: two columns */
@media (min-width: 992px){
  .layout{
    grid-template-columns: 60% 40%;    /* left: items | right: quote */
    align-items: start;
    gap: 22px;
  }

  /* LEFT: scroll area inside the card */
  .pane.left{
    /* header + toolbar + container paddings ≈ 200px; adjust if needed */
    max-height: calc(100vh - 200px);
    overflow: auto;
    padding-right: 8px;
    scrollbar-gutter: stable;
  }

  /* RIGHT: sticky column that can scroll internally if taller */
  .pane.right .sticky{
    position: sticky;
    top: 96px;                          /* align under the red header; tweak 84–112 if necessary */
    display: flex;
    flex-direction: column;
    gap: 12px;
    max-height: calc(100vh - 120px);    /* keeps the whole column within the viewport */
    overflow: auto;                     /* <-- ensures buttons never get cut off */
    padding-bottom: 12px;
  }
}

/* quote editor adapts to available height inside the sticky column */
.pane.right .quote-editor{
  min-height: 260px;
  height: 420px;                        /* starting height; still resizable */
  resize: vertical;
}

/* optional nicer scrollbar for left pane */
.pane.left::-webkit-scrollbar{ width: 10px; }
.pane.left::-webkit-scrollbar-track{ background: #f2f2f2; border-radius: 8px; }
.pane.left::-webkit-scrollbar-thumb{ background: #d6d6d6; border-radius: 8px; }
.pane.left::-webkit-scrollbar-thumb:hover{ background: #c7c7c7; }
