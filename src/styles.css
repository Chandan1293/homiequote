/* =========================
   Homie Premium Theme (full)
   ========================= */

/* Global reset */
* { box-sizing: border-box; }
html, body, #root { height: 100%; margin: 0; }

:root{
  --radius: 14px;
  --radius-sm: 10px;
  --shadow-1: 0 8px 30px rgba(0,0,0,.08);
  --shadow-2: 0 14px 40px rgba(0,0,0,.10);
  --font-main: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  --font-num: ui-rounded, "Poppins", sans-serif;

  --accent: #e63946;         /* Homie red */
  --accent-700:#d42a37;
  --accent-800:#b71f2b;
  --accent-contrast:#ffffff;

  --text: #1f2937;
  --muted: #6b7280;
  --card: #ffffff;
  --border: #ececec;
  --bg: #eef0f3;
  --bg-soft: #fff1f1;
  --ring: rgba(230,57,70,.35);
}

/* ---------- Body + background ---------- */
body[data-theme="homie"]{
  margin:0;
  min-height:100vh;
  display:flex; justify-content:center; align-items:flex-start;
  font-family:var(--font-main);
  color:var(--text);
  position:relative;

  background:
    radial-gradient(900px 520px at -10% -20%, color-mix(in oklab, var(--bg-soft) 75%, white), transparent 60%),
    radial-gradient(800px 480px at 110% -10%, color-mix(in oklab, var(--bg-soft) 75%, white), transparent 55%),
    linear-gradient(180deg, var(--bg) 0%, #f1f2f5 100%);
}

/* doodle pattern file should be at /public/doodle-bg.png */
body[data-theme="homie"]::before{
  content:"";
  position:fixed; inset:0; z-index:-1;
  background-image:url("/doodle-bg.png");
  background-repeat:repeat;
  background-size: 460px;
  opacity:.24;
  filter:contrast(1.25) brightness(1.1);
  pointer-events:none;
}

/* ---------- Topbar ---------- */
.topbar{
  width:100%;
  position:sticky; top:0; z-index:10;
  background: linear-gradient(90deg, var(--accent) 0%, var(--accent-700) 60%, var(--accent-800) 100%);
  box-shadow: 0 6px 18px rgba(0,0,0,.12);
}
.topbar .header{
  max-width:1220px; margin:0 auto; padding:16px 18px;
  display:flex; align-items:center; justify-content:center; gap:14px;
  position:relative;
}
.topbar .logo{ height:56px; display:block; }
.topbar h1{
  margin:0; color:var(--accent-contrast); font-weight:800;
  font-size:30px; letter-spacing:.4px;
}
.topbar::after{
  content:""; position:absolute; left:0; right:0; top:0; height:56%;
  background: linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,0));
  pointer-events:none;
}

/* ---------- Main container ---------- */
.container{
  width:min(100%, 1220px);
  margin:34px auto;
  padding:26px 22px;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:0 18px 50px rgba(0,0,0,.12);
  text-align:center;
  position:relative;
}
.container::before{
  content:"";
  position:absolute; inset:0; pointer-events:none;
  background-image:url("/doodle-bg.png");
  background-repeat:repeat;
  background-size:320px;
  opacity:.06;
  border-radius:inherit;
}

/* ---------- Table ---------- */
.table{
  width:100%;
  border-spacing:0 10px;
  border-collapse:separate;
  margin-bottom:22px;
  background:transparent;
  box-shadow:none;
}
.table th,.table td{
  padding:14px 12px; text-align:center;
  font-variant-numeric: tabular-nums;
  font-family:var(--font-num);
}
.table th{
  background:var(--accent); color:var(--accent-contrast);
  text-transform:uppercase; letter-spacing:.4px; font-size:13px; font-weight:600;
  border-radius:12px 12px 0 0;
}
.table tbody tr{ box-shadow:0 6px 16px rgba(0,0,0,.06); }
.table tbody td{ background:#fff; }
.table tbody tr td:first-child{ border-radius:12px 0 0 12px; }
.table tbody tr td:last-child{  border-radius:0 12px 12px 0; }

/* Compact variation */
.table.compact th, .table.compact td{ padding:10px 12px; }
.table.compact tbody tr{ box-shadow:0 4px 12px rgba(0,0,0,.05); }

/* ---------- Controls ---------- */
.controls button{
  margin:0 4px;
  border:none; cursor:pointer; font-weight:700;
  transition:transform .12s ease, filter .2s ease, box-shadow .2s ease;
}

/* rectangular, smaller +/- buttons (keep colors) */
.btn-rect{
  width:36px; height:32px; border-radius:8px;
  font-size:18px; line-height:1;
  display:inline-flex; align-items:center; justify-content:center;
  box-shadow:0 4px 12px rgba(0,0,0,.10);
}
.btn-plus{ background:var(--accent); color:#fff; }
.btn-plus:hover{ filter:brightness(.98); transform:translateY(-1px); }
.btn-minus{ background:#6b7280; color:#fff; }
.btn-minus:hover{ transform:translateY(-1px); }

/* ---------- Totals & Quote ---------- */
.totals{
  display:grid; grid-template-columns:repeat(2, minmax(0,1fr)); gap:14px;
  padding:16px 18px; background: var(--bg-soft); border:1px solid var(--border);
  border-radius:var(--radius-sm); font-weight:600; margin-bottom:12px; text-align:left;
}
.totals p{ margin:0 }

.card{
  text-align:left; padding:20px; margin:16px 0; border-radius:var(--radius-sm);
  background:#fff; border:1px solid var(--border); box-shadow:var(--shadow-1);
  white-space:pre-line; line-height:1.6; font-size:15px; min-height:120px;
}

/* ---------- Buttons & inputs ---------- */
.actions{
  margin:14px 0; display:flex; gap:12px; flex-wrap:wrap; justify-content:center;
}
.btn-primary,.btn-info,.btn-wa{
  padding:12px 18px; border:none; border-radius:12px; font-weight:700; font-size:15px; cursor:pointer;
  transition:transform .15s ease, box-shadow .2s ease, filter .2s ease;
  box-shadow:var(--shadow-2);
}
.btn-primary{ background:var(--accent); color:#fff; }
.btn-primary:hover{ transform:translateY(-2px); filter:saturate(1.02) }
.btn-info{ background:#2563eb; color:#fff }
.btn-info:hover{ transform:translateY(-2px) }
.btn-wa{ background:#25d366; color:#fff }
.btn-wa:hover{ transform:translateY(-2px) }
button:disabled{ opacity:.55; cursor:not-allowed; box-shadow:none }

.input{
  width:300px; padding:12px 14px; border:1px solid var(--border); border-radius:12px; font-size:14px;
  transition:border-color .2s ease, box-shadow .2s ease; background:#fff;
}
.input:focus{ outline:none; border-color:var(--accent); box-shadow:0 0 0 5px var(--ring) }

/* Small helpers */
.pill{
  display:inline-flex; align-items:center; gap:6px;
  padding:8px 12px; background:#fff; border:1px solid var(--border);
  border-radius:999px; font-weight:600; box-shadow:0 2px 8px rgba(0,0,0,.06);
  user-select:none;
}
.note{ font-size:13px; color:var(--muted); }

/* Quote textarea */
.quote-editor{
  width:100%; resize:vertical; white-space:pre-wrap;
  font-family:"Poppins", sans-serif;
  min-height:300px; height:520px;
}

/* ---------- Two-pane layout ---------- */
.layout{ display:grid; grid-template-columns:1fr; gap:18px; }
.pane{ min-width:0; } /* avoid overflow from children */

@media (min-width: 992px){
  .layout{
    /* Right pane wider to avoid horizontal scroll */
    grid-template-columns: 44% 56%;   /* LEFT | RIGHT  (tweak 42/58 or 40/60 if you want even wider right) */
    align-items:start;
    gap:22px;
  }

  /* LEFT: scroll inside the white card */
  .pane.left{
    max-height: calc(100vh - 200px);   /* header+container padding offset */
    overflow:auto;
    padding-right:8px;
    scrollbar-gutter: stable;
  }

  /* RIGHT: sticky column; no horizontal scroll, can scroll vertically if taller */
  .pane.right{ overflow-x:hidden; }
  .pane.right .sticky{
    position: sticky;
    top: 96px;                          /* sit under the red header */
    display:flex;
    flex-direction:column;
    gap:12px;
    max-height: calc(100vh - 120px);
    overflow-y:auto;
    overflow-x:hidden;                  /* <— kill horizontal scrollbar entirely */
    padding-bottom:12px;
  }
}

/* Mobile tweaks */
@media (max-width: 991.98px){
  .topbar .header{ padding:14px 12px; }
  .topbar h1{ font-size:22px; }
  .quote-editor{ height:380px; }
}
/* ---- Make product table header sticky inside the left pane ---- */
.pane.left { 
  overscroll-behavior: contain;        /* avoid rubber-band/bounce */
  background: #fff;                     /* solid backdrop behind sticky head */
  border-radius: 12px;
}

/* sticky header cells */
.table thead th {
  position: sticky;
  top: 0;                               /* stick to the top of the left pane */
  z-index: 5;
  background: #e63946;                  /* same as your header color */
  color: #fff;
  /* lift the header above rows while scrolling */
  box-shadow: 0 2px 8px rgba(0,0,0,.08);
}

/* ===== Ultra-compact product list (LEFT PANE) ===== */

/* shrink the available vertical paddings so more rows fit */
@media (min-width: 992px){
  .pane.left{
    max-height: calc(100vh - 150px);   /* was ~200px; shows more rows */
  }
}

/* collapse gaps between rows, use thin dividers instead of shadows */
.pane.left .table.compact{
  border-collapse: collapse !important;
  border-spacing: 0 !important;
  table-layout: fixed;                 /* predictable, compact columns */
}

/* tighter header */
.pane.left .table.compact thead th{
  padding: 8px 8px !important;
  font-size: 12px !important;
  line-height: 1.1;
}

/* tighter cells */
.pane.left .table.compact td{
  padding: 6px 8px !important;         /* was 10–14px */
  font-size: 13px !important;
  line-height: 1.15;
  background: #fff;
  border-bottom: 1px solid #eee;       /* thin divider */
}

/* remove row shadow to avoid extra visual height */
.pane.left .table.compact tbody tr{
  box-shadow: none !important;
}

/* column widths (very compact) */
.pane.left .table.compact th:nth-child(1),
.pane.left .table.compact td:nth-child(1){ width: 44px; }     /* S.NO */
.pane.left .table.compact th:nth-child(3),
.pane.left .table.compact td:nth-child(3){ width: 74px; }     /* PRICE */
.pane.left .table.compact th:nth-child(4),
.pane.left .table.compact td:nth-child(4){ width: 76px; }     /* QTY  */
.pane.left .table.compact th:nth-child(5),
.pane.left .table.compact td:nth-child(5){ width: 96px; }     /* ACTION */

/* product name: single line, ellipsis if too long */
.pane.left .table.compact td:nth-child(2){
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* smaller rectangular +/- buttons (same colors) */
.pane.left .btn-rect{
  width: 28px;
  height: 28px;
  border-radius: 6px;
  font-size: 14px;
  box-shadow: 0 3px 8px rgba(0,0,0,.08);
}
.pane.left .controls button + button{ margin-left: 4px; }

/* keep the sticky header working with the compact layout */
.pane.left .table thead th{
  position: sticky;
  top: 0;
  z-index: 5;
  background: #e63946;                 /* Homie red */
  color: #fff;
  box-shadow: 0 2px 6px rgba(0,0,0,.06);
}
/* --- FIX: left table header overlapping first rows --- */

/* 1) Make thead itself sticky (more reliable than per-th on some browsers) */
.pane.left .table.compact {
  border-collapse: collapse !important;
  border-spacing: 0 !important;
  table-layout: fixed;
}
.pane.left .table.compact thead {
  position: sticky;
  top: 0;
  z-index: 10;                /* stays above body rows */
}
.pane.left .table.compact thead th {
  position: static;           /* avoid double-sticky quirks */
  background: #e63946;        /* Homie red */
  color: #fff;
  padding: 8px 10px !important;
  box-shadow: 0 2px 6px rgba(0,0,0,.06);
}

/* 2) Ensure the first data row never sits under the sticky header */
.pane.left .table.compact tbody tr:first-child td {
  padding-top: 10px !important;   /* small spacer under the header */
}

/* 3) Prevent rubber-band behavior inside the scroll area */
.pane.left {
  overscroll-behavior: contain;
  padding-top: 2px;               /* tiny cushion so nothing clips at very top */
}
/* ================= Print to PDF ================= */
.print-sheet { display: none; }

@media print {
  @page {
    size: A4;
    margin: 15mm;
  }

  /* Hide the web UI; show only the print sheet */
  .topbar, .container { display: none !important; }
  body[data-theme="homie"] {
    background: #fff !important;
  }
  .print-sheet { 
    display: block !important; 
    color:#111;
    font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  }

  /* Header (logo + meta) */
  .print-header{
    display:flex; align-items:center; gap:12mm;
    padding-bottom:6mm; margin-bottom:8mm;
    border-bottom:1px solid #ddd;
  }
  .print-header img{ height:18mm; }
  .print-title h2{ margin:0 0 2mm 0; font-size:18pt; }
  .print-title p{ margin:1mm 0; font-size:11pt; }

  /* Products table */
  .print-table{
    width:100%; border-collapse:collapse; margin-bottom:8mm;
    table-layout: fixed;
    font-size:11pt;
  }
  .print-table th, .print-table td{
    border:1px solid #cfd2d6; padding:6px 8px; text-align:center;
  }
  .print-table thead th{
    background:#e63946; color:#fff; font-weight:700;
  }
  .print-table tbody td:nth-child(2){ text-align:left; }

  /* Totals block aligned to the right */
  .print-totals{
    width:100%;
    display:flex; flex-direction:column; gap:4px;
    align-items:flex-end; /* push to the right */
    font-size:12pt; margin-top:2mm; margin-bottom:8mm;
  }
  .print-totals > div{
    min-width: 70mm; display:flex; justify-content:space-between; gap:10mm;
  }
  .print-totals .total{
    margin-top:2mm;
    border-top:1px solid #cfd2d6; padding-top:2mm;
  }
  .print-totals strong{ font-weight:800; }

  /* T&C */
  .print-terms h3{ margin:0 0 3mm 0; font-size:12.5pt; }
  .print-terms ul{ margin:0; padding-left:5mm; }
  .print-terms li{ margin:1.6mm 0; font-size:10.8pt; }

  /* Avoid awkward page breaks */
  .print-header, .print-totals, .print-terms{ page-break-inside: avoid; }
}

